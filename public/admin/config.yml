# After deploying to Netlify, enable Identity in the Netlify dashboard
# and invite Yannik as a user. Set registration to "Invite only" and
# enable Git Gateway under Identity > Services.
backend:
  name: git-gateway
  branch: main

publish_mode: editorial_workflow

# Update these URLs after connecting a custom domain
site_url: https://lucky-cucurucho-b639b6.netlify.app
display_url: https://lucky-cucurucho-b639b6.netlify.app

# Uploaded media is stored in /public and served at /images/uploads
media_folder: public/images/uploads
public_folder: /images/uploads

locale: de

collections:
  - name: apartments
    label: Wohnungen
    label_singular: Wohnung
    folder: src/content/apartments
    create: true
    slug: "{{slug}}"
    extension: md
    format: frontmatter
    summary: "{{name}}"
    fields:
      - { label: Name, name: name, widget: string, hint: "Interner Wohnungsname (z. B. Rheinblick)." }

      - label: Tagline
        name: tagline
        widget: object
        fields:
          - { label: Deutsch, name: de, widget: string, required: true }
          - { label: English, name: en, widget: string, required: true }

      - label: Beschreibung (WYSIWYG)
        name: description
        widget: object
        hint: "Erlaubt: Absätze, Überschriften, Listen, Links, Hervorhebungen."
        fields:
          -
            label: Deutsch
            name: de
            widget: markdown
            modes: [rich_text, raw]
            required: true
          -
            label: English
            name: en
            widget: markdown
            modes: [rich_text, raw]
            required: true

      - { label: "Größe (m²)", name: size, widget: number, value_type: int, min: 1 }

      - label: Zimmer
        name: rooms
        widget: object
        fields:
          - { label: Deutsch, name: de, widget: string, required: true }
          - { label: English, name: en, widget: string, required: true }

      - { label: Max. Bewohner, name: maxOccupants, widget: number, value_type: int, min: 1 }
      - { label: "Miete (€/Monat)", name: pricePerMonth, widget: number, value_type: int, min: 1 }
      - { label: "Nebenkosten (€/Monat)", name: utilitiesPerMonth, widget: number, value_type: int, min: 1 }

      - label: Ausstattung
        name: amenities
        widget: list
        summary: "{{fields.de}} / {{fields.en}}"
        hint: "Jeder Eintrag muss auf Deutsch und Englisch gepflegt sein."
        fields:
          - { label: Deutsch, name: de, widget: string, required: true }
          - { label: English, name: en, widget: string, required: true }

      - { label: Verfügbar, name: available, widget: boolean, default: true }
      -
        label: Verfügbar ab
        name: availableFrom
        widget: date
        required: false
        format: "YYYY-MM-DD"
        date_format: "DD.MM.YYYY"
        time_format: false

      - label: Bilder
        name: images
        widget: list
        hint: "Mehrere Bilder möglich. Neue Uploads landen unter /images/uploads."
        field: { label: Bild, name: image, widget: image, required: true }

      - label: Stockwerk
        name: floor
        widget: object
        fields:
          - { label: Deutsch, name: de, widget: string, required: true }
          - { label: English, name: en, widget: string, required: true }

      - { label: Reihenfolge, name: order, widget: number, value_type: int, min: 1 }

      - label: SEO (optional)
        name: seo
        widget: object
        required: false
        collapsed: true
        fields:
          - label: SEO-Titel
            name: title
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: string, required: false }
              - { label: English, name: en, widget: string, required: false }
          - label: SEO-Beschreibung
            name: description
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: text, required: false }
              - { label: English, name: en, widget: text, required: false }
          - { label: OpenGraph Bild (optional), name: ogImage, widget: image, required: false }

  - name: pages
    label: Seiten
    files:
      - label: Startseite
        name: home
        file: src/content/pages/home.md
        fields:
          - { label: Titel, name: title, widget: hidden, default: home }

          - label: Hero-Bereich
            name: hero
            widget: object
            fields:
              - label: Überschrift
                name: headline
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: string }
                  - { label: English, name: en, widget: string }
              - label: Unterüberschrift
                name: subheadline
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: string }
                  - { label: English, name: en, widget: string }
              - label: Call-to-Action
                name: cta
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: string }
                  - { label: English, name: en, widget: string }
              - label: Hero-Bilder
                name: images
                widget: object
                hint: "Alle Hero-Bilder kommen aus dem CMS-Media-Ordner."
                fields:
                  - { label: Desktop (groß), name: desktop, widget: image, required: true }
                  - { label: Tablet, name: tablet, widget: image, required: true }
                  - { label: Mobile, name: mobile, widget: image, required: true }

          - label: Abschnitt-Unterüberschrift (WYSIWYG)
            name: sectionSubheadline
            widget: object
            hint: "Erlaubt: Absätze, Links, Hervorhebungen."
            fields:
              -
                label: Deutsch
                name: de
                widget: markdown
                modes: [rich_text, raw]
              -
                label: English
                name: en
                widget: markdown
                modes: [rich_text, raw]

          - label: Features
            name: features
            widget: list
            fields:
              -
                label: Icon
                name: icon
                widget: select
                options:
                  - { label: "map-pin", value: "map-pin" }
                  - { label: "sofa", value: "sofa" }
                  - { label: "utensils", value: "utensils" }
                  - { label: "wifi", value: "wifi" }
                  - { label: "washing-machine", value: "washing-machine" }
                  - { label: "calendar-range", value: "calendar-range" }
              - label: Bezeichnung
                name: label
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: string }
                  - { label: English, name: en, widget: string }

          - label: Redaktions-Blöcke
            name: editorialBlocks
            widget: list
            required: false
            hint: "Feste Blocktypen (kein freier Page Builder). Reihenfolge entspricht Ausgabe im Frontend."
            types:
              - label: Rich Text
                name: richText
                widget: object
                fields:
                  - { label: Typ, name: type, widget: hidden, default: richText }
                  -
                    label: Inhalt
                    name: body
                    widget: object
                    fields:
                      - { label: Deutsch, name: de, widget: markdown, modes: [rich_text, raw] }
                      - { label: English, name: en, widget: markdown, modes: [rich_text, raw] }
              - label: Callout
                name: callout
                widget: object
                fields:
                  - { label: Typ, name: type, widget: hidden, default: callout }
                  -
                    label: Variante
                    name: tone
                    widget: select
                    options:
                      - { label: Hinweis, value: info }
                      - { label: Erfolg, value: success }
                      - { label: Achtung, value: warning }
                    default: info
                  - label: Titel
                    name: title
                    widget: object
                    fields:
                      - { label: Deutsch, name: de, widget: string }
                      - { label: English, name: en, widget: string }
                  - label: Text
                    name: body
                    widget: object
                    fields:
                      - { label: Deutsch, name: de, widget: markdown, modes: [rich_text, raw] }
                      - { label: English, name: en, widget: markdown, modes: [rich_text, raw] }
              - label: CTA Zeile
                name: ctaRow
                widget: object
                fields:
                  - { label: Typ, name: type, widget: hidden, default: ctaRow }
                  - label: Text
                    name: text
                    widget: object
                    fields:
                      - { label: Deutsch, name: de, widget: string }
                      - { label: English, name: en, widget: string }
                  - label: Button Label
                    name: buttonLabel
                    widget: object
                    fields:
                      - { label: Deutsch, name: de, widget: string }
                      - { label: English, name: en, widget: string }
                  - label: Button Link
                    name: buttonHref
                    widget: object
                    hint: "Verwenden Sie lokalisierte Pfade, z. B. /de/kontakt bzw. /en/contact."
                    fields:
                      - { label: Deutsch, name: de, widget: string }
                      - { label: English, name: en, widget: string }

          - label: SEO (optional)
            name: seo
            widget: object
            required: false
            collapsed: true
            fields:
              - label: SEO-Titel
                name: title
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: string, required: false }
                  - { label: English, name: en, widget: string, required: false }
              - label: SEO-Beschreibung
                name: description
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: text, required: false }
                  - { label: English, name: en, widget: text, required: false }
              - { label: OpenGraph Bild (optional), name: ogImage, widget: image, required: false }

      - label: Austauschstudierende
        name: exchange-students
        file: src/content/pages/exchange-students.md
        fields:
          - { label: Titel, name: title, widget: hidden, default: exchange-students }
          - label: Überschrift
            name: heading
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: string }
              - { label: English, name: en, widget: string }
          - label: Unterüberschrift
            name: subheading
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: string }
              - { label: English, name: en, widget: string }
          - label: Einleitung
            name: intro
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: text }
              - { label: English, name: en, widget: text }
          - label: Highlights
            name: highlights
            widget: list
            fields:
              - { label: Icon, name: icon, widget: string }
              - label: Titel
                name: title
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: string }
                  - { label: English, name: en, widget: string }
              - label: Beschreibung
                name: description
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: text }
                  - { label: English, name: en, widget: text }
          - label: Was ist enthalten
            name: whatsIncluded
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: text }
              - { label: English, name: en, widget: text }
          - label: Über Vallendar
            name: aboutVallendar
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: text }
              - { label: English, name: en, widget: text }
          - label: Buchung aus dem Ausland
            name: remoteBooking
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: text }
              - { label: English, name: en, widget: text }
          - label: CTA-Text
            name: ctaText
            widget: object
            fields:
              - { label: Deutsch, name: de, widget: string }
              - { label: English, name: en, widget: string }

      - label: FAQ
        name: faq
        file: src/content/pages/faq.md
        fields:
          - { label: Titel, name: title, widget: hidden, default: faq }
          - label: FAQ-Einträge
            name: faq
            widget: list
            fields:
              - label: Frage
                name: question
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: string }
                  - { label: English, name: en, widget: string }
              - label: Antwort
                name: answer
                widget: object
                fields:
                  - { label: Deutsch, name: de, widget: text }
                  - { label: English, name: en, widget: text }

  - name: settings
    label: Einstellungen
    files:
      - label: Website-Einstellungen
        name: site
        file: src/content/settings/site.md
        fields:
          - { label: Name der Immobilie, name: propertyName, widget: string }
          - { label: Name (Akzent), name: propertyNameAccent, widget: string }
          - label: Adresse
            name: address
            widget: object
            fields:
              - { label: Straße, name: street, widget: string }
              - { label: Stadt, name: city, widget: string }
          - { label: E-Mail, name: email, widget: string }
          - { label: Telefon, name: phone, widget: string }
          - { label: Telefon (Anzeige), name: phoneDisplay, widget: string }
